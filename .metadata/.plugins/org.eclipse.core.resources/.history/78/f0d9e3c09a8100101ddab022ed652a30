package com.neobank.notification.service;

import org.springframework.kafka.annotation.KafkaListener;
import org.springframework.mail.SimpleMailMessage;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.stereotype.Service;

import com.neobank.notification.events.TransactionEvent;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;

@Slf4j
@Service
@RequiredArgsConstructor
public class NotificationService {

	private final JavaMailSender mailSender;
	
	@KafkaListener(topics = "transaction-events", groupId = "notification-service")
	public void handleNotification(TransactionEvent event) {
		log.info("Sending notification for transaction: {} "+ event);
		
		//create email
		SimpleMailMessage message = new SimpleMailMessage();
	}
	
}
